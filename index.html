<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>International Space Station Project</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Supherhero">
    <meta name="keywords" content="programming hero,learn programming">
    <link rel="shortcut icon" href="images/favicon.ico" type="image/vnd.microsoft.icon">
    <!--@bootstrapCss-->
    <link rel="stylesheet" href="css/bootstrap.min.css">

    <!--custom css-->
    <link rel="stylesheet" href="css/style.css">
    
    <script src="https://public.tableau.com/javascripts/api/tableau-2.0.0.min.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body onload=getValue();>
<br>
<center>

<div class='stars'>
<div class='twinkling'>
<div class='clouds'>

<div class='content'>
<header>
    <h1>International Space Station Location</h1>

    <div class="alert alert-primary" role="alert">
        International space station location project made by AbrahamDevTM!
    </div>
    <p>It's updated every 8 seconds</p>
    <p>You can also view your loaction below it</p>
</header>    
<head>



<div id="center1"><center><div id="tableauViz1"></div></center></div>
</center>

<script>
function getValue() {
			var res;
            $.ajax({
                type: 'GET',
                dataType: 'jsonp',
                url: 'http://api.open-notify.org/iss-now.json',
                async: false,
                crossDomain: true,
                complete: function (data) {
                    if (data.readyState === 4 && data.status === 200) {
						Lat = data.responseJSON.iss_position.latitude;
						Long = data.responseJSON.iss_position.longitude;
						LatLong(Lat,Long);
                    }
				}
			});
        }
</script> 
 
<script>
var workbooka;
var placeholderDiv = document.getElementById("tableauViz1");
var Url = "https://public.tableau.com/views/ISStracker/ISSLocation?:showVizHome=no";
var options = {
	hideTabs: true,
	hideToolbar: true,
	width: "100%",
	height: "200%",
	onFirstInteractive: function() {
		getValue();
		workbooka = viz.getWorkbook();
	}
};

var viz = new tableauSoftware.Viz(placeholderDiv, Url, options);
window.setInterval("getValue()","8000");

function LatLong(a,b) {
workbooka.changeParameterValueAsync("Lat", [a]);
workbooka.changeParameterValueAsync("Long", [b]);
}

</script>



</div>
</div>
</div>
</div>



</body>
</html>